# 批量查询测试资源列表

### 调用方式: GET

### 接口地址:

```
https://api.freelog.com/v2/testNodes/{nodeId}/testResources/list
```

### 传入参数说明：
| 参数 | 必选 | 类型及范围 | 说明 |
| :--- | :--- | :--- | :--- |
| nodeId | 必选 | int | 节点ID |
| entityType | 可选 | string | 测试资源类型 resource object |
| entityIds | 可选 | string | 资源或对象id,多个用逗号分隔 |
| entityNames | 可选 | string | 资源或对象名称,多个用逗号分隔 |
| projection | 可选| string | 自定义需要返回的字段,多个用逗号分隔 |

### 返回说明：

| 返回值字段 | 字段类型 | 字段说明 |
| :--- | :--- | :--- |
| nodeId | int| 节点ID |
| testResourceId | string | 测试资源ID |
| testResourceName | string | 测试资源名称 |
| resourceType | string | 资源类型 |
| intro | string | 测试资源简介 |
| originInfo | object | 资源源信息 |
| ** id | string | 测试资源引用的实体ID |
| ** name | string | 测试资源引用的实体名称 |
| ** type | string | 测试资源引用的实体类型 (object,resource) |
| ** version | string |测试资源引用的实体版本 |
| ** versions | string[] |测试资源的所有版本 |
| stateInfo | object | 相对于源实体的差异部分信息 |
| **onlineStatusInfo | object | 上线状态信息 |
| **** onlineStatus | int | 是否上线 1:上线 0:下线 |
| **** ruleId | string | 设置上线状态的规则ID |
| **tagInfo | object | 自定义标签信息 |
| **** tags | string[] | 标签信息 |
| **** ruleId | string | 设置标签的规则ID |
| **titleInfo | object | 自定义标签信息 |
| **** title | string[] | 标题 |
| **** ruleId | string | 设置标签的规则ID |
| **coverInfo | object | 自定义标签信息 |
| **** coverImages | string[] | 封面图 |
| **** ruleId | string | 设置标签的规则ID |
| **propertyInfo | object | 自定义标签信息 |
| **** testResourceProperty | object[] | 属性信息,包含key,value,remark |
| **** ruleId | string | 设置标签的规则ID |
| **themeInfo | object | 自定义标签信息 |
| **** isActivatedTheme | int | 是否是激活的主题 0:否 1:是 |
| **** ruleId | string | 设置标签的规则ID,没有则为空 |
| **replaceInfo | object | 自定义标签信息 |
| **** replaceRecords | object[] | 替换记录 |
| **** ruleId | string | 设置标签的规则ID |
| rules | object | 当前测试资源生效的规则集 |
| ** id | string | 规则ID |
| ** operations | string[] | 规则对应的操作类型,包含add,alter,setTags,setOnlineStatus,replace,setAttr,setCover,setTitle |
| resolveResourceSignStatus | int | 上抛签约状态 1:已全部签约 2:未全部签约|
| resolveResources | object[] | 测试节点需要解决的发行列表 |
| **resourceId | string | 解决的资源ID |
| **resourceName | string | 解决的资源名称 |
| **contracts | object[] | 解决发行所用的合约 |
| ****policyId | string | 策略ID |
| ****contractId | string | 合约ID |

### 返回示例

```json
{
	"ret": 0,
	"errCode": 0,
	"errcode": 0,
	"msg": "success",
	"data": [{
		"associatedPresentableId": "",
		"intro": "",
		"resolveResourceSignStatus": 2,
		"status": 0,
		"nodeId": 80000000,
		"userId": 50028,
		"resourceType": "markdown",
		"testResourceId": "eb85fd1fe76f520c25507261cc545d36",
		"testResourceName": "依赖1上抛1_nLB2B",
		"originInfo": {
			"version": "1.0.0",
			"versionRange": "latest",
			"versions": ["1.0.0"],
			"id": "5fed998deb3583002f209378",
			"name": "chtes/依赖1上抛1",
			"type": "resource"
		},
		"stateInfo": {
			"onlineStatusInfo": {
				"ruleId": "default",
				"onlineStatus": 0
			},
			"tagInfo": {
				"tags": [],
				"ruleId": "default"
			},
			"titleInfo": {
				"title": "chtes/依赖1上抛1",
				"ruleId": "default"
			},
			"coverInfo": {
				"coverImages": [],
				"ruleId": "default"
			},
			"propertyInfo": {
				"testResourceProperty": [{
					"remark": "",
					"key": "fileSize",
					"value": 86347
				}, {
					"remark": "",
					"key": "mime",
					"value": "image/png"
				}],
				"ruleId": "default"
			},
			"themeInfo": {
				"isActivatedTheme": 0,
				"ruleId": "default"
			},
			"replaceInfo": {
				"replaceRecords": [],
				"ruleId": "default"
			}
		},
		"rules": [{
			"ruleId": "58ab2a3823539e29e0a86bfa8a755578",
			"operations": ["add"]
		}],
		"resolveResources": [{
			"resourceId": "5fed998deb3583002f209378",
			"resourceName": "chtes/依赖1上抛1",
			"contracts": []
		}, {
			"resourceId": "5feacb45b851b5002e59d8cd",
			"resourceName": "chtes/西班牙奥尔德萨和佩尔迪多山国家公园中的奥尔德萨峡谷",
			"contracts": []
		}],
		"createDate": "2021-06-25T03:42:17.134Z",
		"updateDate": "2021-06-25T03:42:17.134Z"
	}, {
		"associatedPresentableId": "",
		"intro": "",
		"resolveResourceSignStatus": 2,
		"status": 0,
		"nodeId": 80000000,
		"userId": 50028,
		"resourceType": "widget",
		"testResourceId": "0f6d32485c8d77c5a79148a2b46b70e0",
		"testResourceName": "zhaojn3_Dc7ES",
		"originInfo": {
			"version": "0.1.1",
			"versionRange": "latest",
			"versions": ["0.1.1"],
			"id": "60cb1b1f82972c00365eb63f",
			"name": "zhaojn/zhaojn3",
			"type": "resource"
		},
		"stateInfo": {
			"onlineStatusInfo": {
				"ruleId": "defea9a9199696b30f65e7ecdbdabaa7",
				"onlineStatus": 1
			},
			"tagInfo": {
				"tags": [],
				"ruleId": "default"
			},
			"titleInfo": {
				"title": "zhaojn/zhaojn3",
				"ruleId": "default"
			},
			"coverInfo": {
				"coverImages": [],
				"ruleId": "default"
			},
			"propertyInfo": {
				"testResourceProperty": [{
					"remark": "",
					"key": "fileSize",
					"value": 2725948
				}, {
					"remark": "",
					"key": "mime",
					"value": "application/zip"
				}],
				"ruleId": "default"
			},
			"themeInfo": {
				"isActivatedTheme": 0,
				"ruleId": "default"
			},
			"replaceInfo": {
				"replaceRecords": [],
				"ruleId": "default"
			}
		},
		"rules": [{
			"ruleId": "defea9a9199696b30f65e7ecdbdabaa7",
			"operations": ["add", "setOnlineStatus"]
		}],
		"resolveResources": [{
			"resourceId": "60cb1b1f82972c00365eb63f",
			"resourceName": "zhaojn/zhaojn3",
			"contracts": []
		}],
		"createDate": "2021-06-25T03:42:17.137Z",
		"updateDate": "2021-06-25T03:42:17.137Z"
	}]
}
```
