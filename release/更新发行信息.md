# 更新发行信息

### 调用方式: PUT

### 接口地址:

```
https://api.freelog.com/v1/releases/{releaseId}
```

### url传入参数说明:

| 参数 | 必选 | 类型及范围 | 说明 |
| :--- | :--- | :--- | :--- |
|releaseId|必选|string|发行ID|

### body传入参数说明:

| 参数 | 必选 | 类型及范围 | 说明 |
| :--- | :--- | :--- | :--- |
|releaseName|可选|string|发行名称,同一个账户下唯一|
|intro|可选|string|发行简介|
|policyInfo|可选|object|策略相关变动|
|**addPolicies|可选|object[]| 新增的策略 |
|****policyName|必选|string| 策略名称 |
|****policyText|必选|string| 策略文本,base64编码 |
|**updatePolicies|可选|object[]| 需要更新的授权策略段 |
|****policyId|必选|string| 策略段落ID |
|****policyName|必选|string| 策略名称 |
|****status|必选|int| 策略状态 (0:不显示 1:显示) |


## 解决方式具体到版本的方案
## |resolveReleases|可选|object[]|自身解决的依赖发行,此处update操作应该全量传入|
## |**releaseId|必选|string|解决的发行ID|
## |**contracts|必选|object[]|解决的发行的策略|
## |****policyId|必选|string|选中的策略|
## |****contractId|可选|string|选中的现有合同ID|



### body示例

```js
{
	"releaseName": "my release",
	"intro": "发行描述信息",
	"resolveReleases": [{
			"releaseId": "5cb03a295a791845b4aed4ae",
			"contracts": [{
				"policyId": "8cefe2f1dcc6dd0bdaadac946cb63dbc"
			}]
		},
		{
			"releaseId": "5cb03c9a59b15317d037d474",
			"contracts": [{
				"policyId": "8cefe2f1dcc6dd0bdaadac946cb63dbc"
			}]
		},
		{
			"releaseId": "5cb3f23220020a552cf2984f",
			"contracts": [{
				"policyId": "8cefe2f1dcc6dd0bdaadac946cb63dbc"
			}]
		}
	],
	"policyInfo": {
		"addPolicies": [{
			"policyName": "免费策略3",
			"policyText": "Zm9yIHB1YmxpYzoKICBpbml0aWFsOgogICAgYWN0aXZlCiAgICByZWNvbnRyYWN0YWJsZQogICAgcHJlc2VudGFibGUKICAgIHRlcm1pbmF0ZQ=="
		}],
		"updatePolicies": [{
			"policyId": "8cefe2f1dcc6dd0bdaadac946cb63dbc",
			"policyName": "新的免费策略",
			"status": 1
		}]
	}
}
```

### 返回说明：

| 返回值字段 | 字段类型 | 字段说明 |
| :--- | :--- | :--- |
| releaseId | string | 发行ID|
| resourceId | string | 资源ID|
| resourceType | string | 资源类型[[详见附表]][资源类型] |
| releaseName | string | 发行名称 |
| username	| string| 用户名|
| policies|object[]|策略|
| intro|string|资源简介|
| latestVersion|object|最新版本|
| resourceVersions|object[]|资源版本信息|

### 示例

```js
{
	"ret": 0,
	"errcode": 0,
	"msg": "success",
	"data": {
		"signAuth": 0,
		"status": 1,
		"releaseName": "my release",
		"userId": 10026,
		"resourceType": "markdown",
		"username": "yuliang",
		"policies": [{
			"signAuth": 0,
			"authorizedObjects": [{
				"userType": "GROUP",
				"users": [
					"PUBLIC"
				]
			}],
			"policyId": "8cefe2f1dcc6dd0bdaadac946cb63dbc",
			"policyName": "免费策略",
			"status": 1,
			"policyText": "for public:\n  initial:\n    active\n    recontractable\n    presentable\n    terminate"
		}],
		"latestVersion": {
			"resourceId": "b65f942feec6e2e02f0c28a477292583eb72242f",
			"version": "0.1.0",
			"createDate": "2019-04-22T03:20:57.068Z"
		},
		"resourceVersions": [{
			"resourceId": "b65f942feec6e2e02f0c28a477292583eb72242f",
			"version": "0.1.0",
			"createDate": "2019-04-22T03:20:57.068Z"
		}],
		"baseUpcastReleases": [{
			"releaseId": "5cb039815a791845b4aed4ab",
			"releaseName": "b1"
		}],
		"createDate": "2019-04-22T03:20:57.104Z",
		"updateDate": "2019-04-22T03:20:57.104Z",
		"releaseId": "5cbd33192f4de92fb419b53c"
	}
}
```


