## 策略

- #### report(contract, isSign) 策略翻译

  | 参数名   | 参数类型       | 参数含义       | 说明                                                         |
  | -------- | -------------- | -------------- | ------------------------------------------------------------ |
  | contract | ContractEntity | 策略           | ContractEntity：{audiences: AudienceEntity[]; fsmStates: FSMEntity[];}<br>AudienceEntity：{name: string; type: string;}<br>FSMEntity：{name: string; serviceStates?: string[]; events?: EventEntity[];}<br>EventEntity：{id?: string; name: string; args?: {}; state?: string;} |
  | isSign   | boolean        | 是否签约(可选) |                                                              |

- #### compareRoutes(route, routes, options) 比较路由

  | 参数名  | 参数类型                   | 参数含义               | 说明                                                         |
  | ------- | -------------------------- | ---------------------- | ------------------------------------------------------------ |
  | routes  | FSMRouteElement[] []       | 路由元素               | FSMRouteElement：{state: string; serviceStates: string[]; event: EventEntity;}<br>EventEntity：{id?: string; name: string; args?: {}; state?: string;} |
  | routesB | FSMRouteElement[] []       | 路由元素B              |                                                              |
  | options | CompareRoutesOptions(可选) | 比较路由参数选项(可选) | CompareRoutesOptions：{// 是否做参数校验 0:否 1:是 eventArgs: number; // 是否做色块校验 0:否 1:是 2:包含 serviceStates: number;} |

- #### parseRoutes(states, stateName, routes, route) 解析路由

  | 参数名    | 参数类型             | 参数含义         | 说明                               |
  | --------- | -------------------- | ---------------- | ---------------------------------- |
  | states    |                      | 状态机           | 就是编译结果中的状态机，参考md文档 |
  | stateName | string               | 起始状态名       |                                    |
  | routes    | FSMRouteElement[] [] | 路由集合（结果） |                                    |
  | route     | FSMRouteElement[]    | 路由             |                                    |

- ####compile(policyText, targetType, targetUrl, env) 编译

  | 参数名     | 参数类型 | 参数含义       | 说明 |
  | ---------- | -------- | -------------- | ---- |
  | policyText | string   | 编译文本       |      |
  | targetType | string   | 标的物类型     |      |
  | targetUrl  | string   | 远端地址       |      |
  | env        | string   | 环境:dev\|prod |      |

  