# 更新授权点

### 调用方式: PUT

### 接口地址:

```
https://api.freelog.com/v1/resource/authSchemes/{authSchemeId}
```

### url传入参数说明：

| 参数 | 必选 | 类型及范围 | 说明 |
| :--- | :--- | :--- | :--- |
|authSchemeId|必选|string|授权点ID|


### body传入参数说明(可选字段代表根据需求需要更新时赋值,不需要更新时,则不把参数构建在body中)：
| 参数 | 必选 | 类型及范围 | 说明 |
| :--- | :--- | :--- | :--- |
|authSchemeName|可选|string|授权点名称,2-100个字符|
|policyText|可选|string| base64编码的授权策略 |
|status|可选|int|状态 1:上架  2:下架 |
|dependStatements|可选|object[]|授权点包含的以来声明|
|**resourceOneId|必选|string|资源依赖树上的引用节点资源ID|
|**resourceTwoId|必选|string|资源依赖树上的被引用节点资源ID|
|**deep|必选|int|节点所在的依赖树上的层级|
|**contractId|可选|string|声明依赖之间所绑定的合约|

### body示例

```js
{
    "authSchemeName":"方案2",
	"policyText": "Zm9yIHB1YmxpYzoKICAgaW4gPGluaXRpYWw+IDoKICB0ZXJtaW5hdGU=",
	"dependStatements": [ {
		"resourceOneId":"004c19dd7d2257436e9e238abf1b6ef6e639e2bf",
        "resourceTwoId":"7afb9c16ddc6701e59f94d744d17053550ec2901",
        "deep":1,
        "contractId":"5a4345e8fba1ef00213053f7"
	 }]
}
```

### 返回说明：

| 返回值字段 | 字段类型 | 字段说明 |
| :--- | :--- | :--- |
| authSchemeId | string | 授权点ID |
| authSchemeName | string | 授权点名称 |
| resourceId| string | 授权点所属资源ID|
| userId | int | 创建者ID |
| policy | object[] | 授权策略 |
| ** teminateState | string | 策略终止状态 |
| ** initialState | string | 策略初始状态 |
| ** activatedStates | string[] | 策略激活状态 |
| ** users | object[] | 授权对象 |
| ** segmentId | string| 策略段落ID |
| ** fsmDescription | object[] | 状态机描述对象 |
| **** currentState | string| 当前状态 |
| **** nextState | string| 下一状态 |
| **** event | object| 触发事件 |
| serialNumber | string | 本次更新策略序列号 |
| policyText | string | 策略描述语言 |
| languageType | string | 策略描述语言类型 |
| dependCount| int | 资源依赖的子资源数量 |
| statementCoverageRate | int | 授权点申明的资源占总依赖资源数量的覆盖率 |
| contractCoverageRate | int | 声明的依赖资源中绑定合同的覆盖率 |
| statementState | int | 授权点的声明类型 (1:全部上抛(默认)  2:全包含  3:部分上抛) |
| dependStatements | object[] | 授权点申明的资源依赖 |
| **resourceOneId | string | 资源依赖树上的引用节点资源ID|
| **resourceTwoId | string | 资源依赖树上的被引用节点资源ID|
| **deep | int | 节点所在的依赖树上的层级|
| **contractId | string | 声明依赖之间所绑定的合约|
| createDate | date | 创建日期 |
| updateDate | date | 更新日期日期 |
| status | int | 状态 (0:初始状态 1:上架 2:下架) |


### 返回示例

```js
{
    "ret": 0,
    "errcode": 0,
    "msg": "success",
    "data": {
        "authSchemeId": "5abc85b455305504748bd081",
        "authSchemeName": "方案1",
        "resourceId": "004c19dd7d2257436e9e238abf1b6ef6e639e2bf",
        "userId": 10026,
        "policy": [
            {
                "segmentId": "054632645eb66c4d5ac93892a9cfd51b",
                "segmentText": "for public: in <initial> : terminate",
                "users": [
                    {
                        "userType": "group",
                        "users": [
                            "public"
                        ]
                    }
                ],
                "fsmDescription": [
                    {
                        "currentState": "<initial>"
                    }
                ],
                "activatedStates": [
                    "<initial>"
                ],
                "initialState": "<initial>",
                "terminateState": "terminate"
            }
        ],
        "policyText": "for public:\n   in <initial> :\n  terminate",
        "languageType": "freelog_policy_lang",
        "dependCount": 1,
        "dependStatements": [
            {
                "contractId": "5a4345e8fba1ef00213053f7",
                "resourceOneId": "004c19dd7d2257436e9e238abf1b6ef6e639e2bf",
                "resourceTwoId": "7afb9c16ddc6701e59f94d744d17053550ec2901",
                "deep": 1
            }
        ],
        "statementState": 2,
        "statementCoverageRate": 100,
        "contractCoverageRate": 100,
        "serialNumber": "5abc85b455305504748bd080",
        "createDate": "2018-03-29T06:20:36.861Z",
        "updateDate": "2018-03-29T06:20:36.861Z",
        "status": 0
    }
}
```